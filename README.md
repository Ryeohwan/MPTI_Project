# MPTI

### Frontend

![NodeJS](https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white)![NPM](https://img.shields.io/badge/NPM-%23CB3837.svg?style=for-the-badge&logo=npm&logoColor=white)![Webpack](https://img.shields.io/badge/webpack-%238DD6F9.svg?style=for-the-badge&logo=webpack&logoColor=black)![Redux](https://img.shields.io/badge/redux-%23593d88.svg?style=for-the-badge&logo=redux&logoColor=white)![React Router](https://img.shields.io/badge/React_Router-CA4245?style=for-the-badge&logo=react-router&logoColor=white)

![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)![HTML5](https://img.shields.io/badge/html5-%23E34F26.svg?style=for-the-badge&logo=html5&logoColor=white)![CSS5](https://img.shields.io/badge/css3-%231572B6.svg?style=for-the-badge&logo=css3&logoColor=white)![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E) ![CodePen](https://img.shields.io/badge/CodePen-white?style=for-the-badge&logo=codepen&logoColor=black)

![Visual Studio Code](https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=for-the-badge&logo=visual-studio-code&logoColor=white)![Babel](https://img.shields.io/badge/Babel-F9DC3e?style=for-the-badge&logo=babel&logoColor=black)![Gradle](https://img.shields.io/badge/Gradle-02303A.svg?style=for-the-badge&logo=Gradle&logoColor=white)![Firebase](https://img.shields.io/badge/Firebase-039BE5?style=for-the-badge&logo=Firebase&logoColor=white)

![Express.js](https://img.shields.io/badge/express.js-%23404d59.svg?style=for-the-badge&logo=express&logoColor=%2361DAFB)![WebRTC](https://img.shields.io/badge/WebRTC-%23333333.svg?style=for-the-badge&logo=WebRTC&logoColor=%2361DAFB)![SOCKET](https://img.shields.io/badge/SOCKET-%23333333.svg?style=for-the-badge&logo=SOCKET.IO&logoColor=white)

### Backend

![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white)![Java](https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=java&logoColor=white)![IntelliJ IDEA](https://img.shields.io/badge/IntelliJIDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white)![Redis](https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white)![SOCKET](https://img.shields.io/badge/SOCKET-%23333333.svg?style=for-the-badge&logo=SOCKET.IO&logoColor=white)

![Apache Tomcat](https://img.shields.io/badge/apache%20tomcat-%23F8DC75.svg?style=for-the-badge&logo=apache-tomcat&logoColor=black)![Spring Security](https://img.shields.io/badge/SpringSecurity-%236DB33F.svg?style=for-the-badge&logo=Spring-Security&logoColor=white)![WebRTC](https://img.shields.io/badge/WebRTC-%23333333.svg?style=for-the-badge&logo=WebRTC&logoColor=%2361DAFB)![Querydsl](https://img.shields.io/badge/Querydsl-%23333333.svg?style=for-the-badge&logo=GitHub&logoColor=%2361DAFB)

![Postman](https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white)![MongoDB](https://img.shields.io/badge/MongoDB-%234ea94b.svg?style=for-the-badge&logo=mongodb&logoColor=white)![MySQL](https://img.shields.io/badge/mysql-%2300f.svg?style=for-the-badge&logo=mysql&logoColor=white)![spring-boot](https://img.shields.io/badge/springboot-%236DB33F.svg?style=for-the-badge&logo=spring-boot&logoColor=white)![JSON Web Tokens](https://img.shields.io/badge/JSONWebTokens-%23000000.svg?style=for-the-badge&logo=JSON-Web-Tokens&logoColor=%2361DAFB)

### DEVOPS

![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)![Jira](https://img.shields.io/badge/jira-%230A0FFF.svg?style=for-the-badge&logo=jira&logoColor=white)![Notion](https://img.shields.io/badge/Notion-%23000000.svg?style=for-the-badge&logo=notion&logoColor=white)![GitLab CI](https://img.shields.io/badge/gitlab%20ci-%23181717.svg?style=for-the-badge&logo=gitlab&logoColor=white)![Jenkins](https://img.shields.io/badge/jenkins-%232C5263.svg?style=for-the-badge&logo=jenkins&logoColor=white)![Ubuntu](https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=ubuntu&logoColor=white)

![AWS](https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white)![Google Cloud](https://img.shields.io/badge/GoogleCloud-%234285F4.svg?style=for-the-badge&logo=google-cloud&logoColor=white)![Nginx](https://img.shields.io/badge/nginx-%23009639.svg?style=for-the-badge&logo=nginx&logoColor=white)![Amazon S3](https://img.shields.io/badge/AmazonS3-%23569A31.svg?style=for-the-badge&logo=Amazon-S3&logoColor=white)![Amazon EC2](https://img.shields.io/badge/AmazonEC2-%23FF9900.svg?style=for-the-badge&logo=Amazon-EC2&logoColor=white)



Market by Personal Trainer & I의 약자로 온라인 PT 서비스를 제공하는 웹페이지 이름입니다. 

## 개발 의도

4차 산업 혁명과 코로나로 인해 비대면 서비스들의 수요가 급증했습니다. 그 원인은 코로나로 인한 영업 제한, 거리두기 등의 영향이 큽니다. 운동 관련 업종들은 실제로  폐업률이 높아졌습니다.  이런 상황에서 MPTI는 운동 관련 업종을 온라인화 하여 문제를 해결하고, 사람들의 삶의 질을 높여줄 수 있을 것입니다.

## 서비스 소개

MPTI는 고객이 온라인에서 트레이너에게 운동 수업을 받을 수 있는 웹사이트 서비스를 제공합니다. 트레이너는 본인의 수상경력, 이력 등을 통해 고객에게 어필할 수 있고, 고객은 공간의 제약없이 쉽게 경력과 이력을  보고 알맞은 트레이너를 골라 PT를 받을 수 있습니다. 기존의 화상회의 시스템과 다른 점은 트레이너가 고객을 관리할 수 있는 시스템을 갖추고 있다는 것입니다. 고객별로 운동부위와, 특이사항을 기록하여 체계적으로 관리할 수 있고, 고객또한 체계적으로 관리받으며 트레이너를 평가할 수 있습니다. 그리고 평가한 데이터가 쌓이면 고객들은 더 좋은 트레이너와 함꼐하기 쉬워지고, 트레이너는 공간, 시간의 제약에서 벗어나 더많은 고객과 함께할 수 있습니다. 

## 기술스택

### 프론트

| SKILL                 | VERSION |                   |
| --------------------- | ------- | ----------------- |
| Node.js               | 14.15.4 | 런타임 환경       |
| react                 | 18.2.0  | React 프레임 워크 |
| react-dom             | 18.2.0  | React 프레임 워크 |
| react-scripts         | 5.0.1   | React 프레임 워크 |
| @reduxjs/toolkit      | 1.9.2   | 상태관리          |
| react-redux           | 8.0.5   | 상태관리          |
| redux-persist         | 6.0.0   | 상태관리          |
| react-router-dom      | 6.7.0   | 라우터            |
| openvidu-browser      | 2.25.0  | WEBRTC            |
| @stomp/stompjs        | 6.1.2   | SOCKET(채팅)      |
| sockjs-client         | 1.6.1   | SOCKET(채팅)      |
| http-proxy-middleware | 2.0.6   | CORS              |
| moment-timezone       | 0.5.40  | 달력기능 구현     |
| moment                | 2.29.4  | 달력기능 구현     |
| react-times           | 3.1.12  | 달력기능 구현     |
| react-datetime-picker | 4.2.0   | 달력기능 구현     |
| react-js-pagination   | 3.0.3   | 페이징            |
| react-chartjs-2       | 5.2.0   | 그래프 출력       |
| @material-ui/core     | 4.12.4  | CSS               |
| @material-ui/incons   | 4.11.3  | CSS               |
| @iconify/react        | 4.1.0   | CSS               |

Node.js 런타임 환경에서 npm을 이용하여 라이브러리를 관리했습니다. React 프레임워크를 사용하였고,  Redux, Router를 사용하여 SPA로 상태관리를 하였습니다. redux-persist는 상태관리하는데 있어서, 새로고침하면 사라지는 것을 방지하는데 사용하였습니다. CORS정책을 위해 http-proxy-middleware를 사용하여 서버와의 통신을 용이하게 했습니다. 그리고 WEBRTC를 구현하기 위해서 openvidu-browser라는 오픈소스를 이용하여 ICE서버로 STUN이나 TURN서버를 연결하는 것을 쉽게했습니다. 그리고 별도의 저장되는 SOCKET 통신을 구현하기 위해 stomp 서버를 사용했습니다. openvidu에서 사용하는 소켓통신은 토큰 같은것이 반드시 필요하고 부가적인 기능이 매우 많기 때문에 가볍게 사용할 수 있도록 socket통신 기반의 stomp서버를 사용하였습니다.

웹페이지 기능들 중 달력, 그래프 출력이 있어서 chartjs 라이브러리와 달력 기능 구현에 필요한 time관련 라이브러리를 사용했습니다. 달력 기능은 제대로 만들지 않으면 오류가 많기 때문에 다양한 라이브러리를 사용했습니다. 시간 예약을 하는것이 핵심 기능중 하나이기 때문에 많은 커스텀을 하였습니다. 

서버로부터 한번에 모든 데이터를 받는 것이 아니기 때문에 Pagination 라이브러리로 미리 페이지들을 만들어서 데이터 낭비없이 깔끔하게 출력할 수 있도록 했고  아이콘 사용을 위해  material-ui, iconify 라이브러리도 사용했습니다. 



## 서비스 목표

MPTI는 운동 관련 대면 서비스를 비대면 서비스화 하여 고객은 어디에서나 원하는 트레이너에 PT를 받아 삶의 질을 높이고, 트레이너도 많은 고객을 확보할 수 있도록 하는 것이 저희 서비스의 목표입니다.

## 서비스 기능 설명

### 관리자 주요 기능

>**관리자** **가입 신청 관리**
>
>트레이너 사용자는 가입신청 절차 이 후에 전달된 신청자들의 정보를 확인하고 관리자의 선택에 따라 가입을 승인/반려하게 된다. 가입신청 목록은 Paging 처리되어 각 페이지의 목록들을 서버에서 불러오게 된다. 가입이 반려된 트레이너는 로그인은 할 수 있지만 유저가 검색 할 수 있는 트레이너 리스트에서 제외되어 확인 할 수가 없다.
>
>![adminmanage](https://user-images.githubusercontent.com/73810834/219534198-b5af9ad8-ff6c-4954-bfa8-bb25f9a71cb4.gif)
>
>**관리자 신고관리**
>
>해당 서비스를 이용하면서 느낀 불편함을 느낀 유저들의 신고목록 리스트들을 불러온다. 신고의 상세정보는 클릭을 통해 모달로 확인 할 수 있고, 관리자는 죄의 무게에 따라 제재 일수를 조정하여 정지기간을 부여하게된다. 정지를 부여 받게 된 유저는 현재 일로부터 부여된 제재 일수 동안 로그인이 불가 하여 해당 서비스를 이용할 수 없다.
>
>![adminreport](https://user-images.githubusercontent.com/73810834/219534275-dd6cb050-a495-42ff-8669-8da5e629968a.gif)
>
>**관리자** **계정관리**
>
>해당 서비스를 이용하는 일반유저 트레이너들의 정보를 목록으로 불러온다. 각 인물의 상세정보는 클릭을 통한 모달로 확인 할 수 있고 계정을 삭제하게 되면 해당 유저는 더 이상 서비스를 더 이상 이용 할 수 없다.
>
>![admintrainer](https://user-images.githubusercontent.com/73810834/219534335-b4d55c53-9d6d-4935-9cdd-baa733ad47a9.gif)

### 고객 주요 기능

>**고객 운동기록**
>
>해당 서비스를 이용하면서 누적된 고객의 운동 정보를 시각화 자료로 제공해주며, 그 정보를 분석하여 추천운동을 제시해준다. 간단하고 쉬운 조작 방법으로 BMI 측정과 같은 부가기능을 누릴수있다.
>
>![Clientlog](https://user-images.githubusercontent.com/73810834/219534378-9ed2acbe-03a2-4325-82b7-44387cc4c34a.gif)
>
>**고객 트레이너 검색**
>
>고객은 MPTI에 등록된 검증된 트레이너들을 한 눈에 보고 선택 할 수 있다. 찾고자 하는 트레이너의 이름 혹은 수업을 받고 싶은 날짜를 선택하여 이에 부합하는 트레이너 목록들을 검색 결과로 반환한다.
>
>![Clientnamesearch](https://user-images.githubusercontent.com/73810834/219534433-dbf03ef2-1fca-475b-a528-854aaabf60d1.gif)
>
>![ClientDateSearch](https://user-images.githubusercontent.com/73810834/219534453-9a47fe5f-c4fd-4b3f-8172-b0ce30fc5485.gif)
>
>**고객 트레이너 예약/결제**
>
>트레이너를 선택하게 되면 이력들이 표시된다. 예약페이지로 넘어가게되면 트레이너가 열어둔 날짜와 시간대가 제공되며 고객은 원하는 날짜와 시간대를 선택하여 (여러개 가능) 선택한 수업 수 만큼 결제데이터가 넘어가고 카카오 결제 페이지로 이동 후 QR을 통해 결제가 진행된다. 결제를 하게 되면 트레이너와 유저에게 서로 알맞은 예약목록이 들어가게되어 서로의 수업정보를 공유할수있다.
>
>![ClientResev](https://user-images.githubusercontent.com/73810834/219534507-9a3528c2-07c9-4050-97c0-3104e4528348.gif)
>
>**고객 트레이너 채팅기능**
>
>예약페이지에서 “상담하기” 클릭을 통해 채팅방을 생성 할 수 있고  예약전 채팅을 통해 상담을 진행할수있다. 채팅기록들은 서버에 저장이 되어 다음에 다시 접속 했을 때도 이전 대화를 이어 나갈 수있다.
>
>![ClientTrainerChat](https://user-images.githubusercontent.com/73810834/219534547-01fdd955-218b-4183-b385-f40ac875ec53.gif)

### 트레이너 주요 기능

>**트레이너 스케줄조정/스케줄확인**
>
>본인의 스케줄을 간단한 UI (달력과 시간표 지정) 의 클릭을 통해서 조정 할 수 있으며 그렇게 조정한 날짜와 시간은 고객이 수업을 신청 할 수 있는 스케줄이 된다. 이외의 시간은 고객은 선택 할 수 없다.   본인이 열어둔 시간대가 있는 날과 수업 예약이 차있는 날짜에는 수업 시간과 고객의 이름, 얼어둔 시간대 존재 여부를 알려주는 Sign이 표시된다.
>
>![TrainerSchedule](https://user-images.githubusercontent.com/73810834/219534570-22c1efc2-117e-4d3d-98d5-a953797cc6a6.gif)
>
>**트레이너 화상/타이머**
>
>신청한 수업의 시간이 다가오면 수업에서 클릭을 통해 고객과 트레이너는 약속된 시간에 화상 서비스에 접속을 할 수 있다. 해당 화면에서는 카메라를 통해 서로의 모습을 확인 할 수 있고 마이크를 활용한 음성 채팅기능, 카메라 on/off, 화면 공유 기능을 지원한다. 또한 화상 수업에서 사용 할 수 있는 커스텀 타이머가 기본으로 설정되어 수업에 적극적으로 사용 할 수 있다.
>
>![chat_WRTC](https://user-images.githubusercontent.com/73810834/219534619-c6ec3ad3-af25-49b1-90a4-4cfbf929dfd4.gif)
>
>**트레이너 리뷰/특이사항**
>
>고객과 트레이너의 온라인 수업이 끝나게 되면 해당 화상 웹 상에서 트레이너는 그날에 있었던 고객의 특이사항과 운동부위를 입력하여 기록들을 저장해 손쉽게 고객 관리를 할 수 있다. 해당 데이터는 고객 별로 누적 저장되어 고객 관리 탭에서 고객의 정보를 한눈에 확인을 할 수 있다. 고객은 그날 있었던 수업의 평점과 소감을 입력하여 차후 다른 고객들이 참고 할 수 있는 리뷰를 작성 할 수 있다.
>
>![TrainerClient](https://user-images.githubusercontent.com/73810834/219534653-0c021941-40d7-49de-98f9-55e57308010e.gif)

### 사용자 편의성/부가기능

>**소셜 로그인**
>
>일반 유저는 카카오, 구글, 네이버 로그인을 통해 해당 서비스에서 불러온 데이터를 토대로 회원 가입과 로그인이 가능하다.
>
>![social](https://user-images.githubusercontent.com/73810834/219534679-71a06fdf-a80e-4231-9250-28c200f02d08.gif)
>
>**카카오 페이 결제 **
>
>사용자는 기존에 사용하던 결제 수단인 카카오 페이를 통해 손쉽게 결제할 수 있습니다.
>
>![kakao](https://user-images.githubusercontent.com/73810834/219534715-d2d358d7-f9be-40c9-92b1-d0c494004321.gif)
>
>**신고 기능**
>
>트레이너, 고객은 불합리적인 일에 대해서 서로를 신고할 수 있습니다.
>
>![report](https://user-images.githubusercontent.com/73810834/219534761-98a1a25f-2570-4d29-b7d8-2b1dc386cf6f.gif)



### Contributors

|  Frontend   |  [서유진](https://github.com/yxxddii)   |   [정원철](https://github.com/b22mer)    | [윤동근](https://github.com/YoonDongGeun/YoonDongGeun) |
| :---------: | :-------------------------------------: | :--------------------------------------: | ------------------------------------------------------ |
| **Backend** | **[지선호](https://github.com/hoya54)** | **[이예은](https://github.com/Dodamon)** | **[안려환](https://github.com/Ryeohwan)**              |
|     VIP     |                 박종철                  |                  오윤택                  | 윤성도                                                 |

### License

 Copyright © SSAFY 8기 A803 서유진 안려환 윤동근 이예은 정원철 지선호 All Rights Reservd

Copyright © SAMSUNG All Rights Reserved.







